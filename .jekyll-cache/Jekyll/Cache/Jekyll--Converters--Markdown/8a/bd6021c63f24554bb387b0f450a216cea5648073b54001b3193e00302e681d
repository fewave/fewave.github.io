I"ÓV<blockquote>
  <p>æœ¬æ–‡ç¿»è¯‘äºMilap Neupane Blogçš„<a href="https://milapneupane.com.np/2019/07/06/learning-golang-from-zero-to-hero/">Learning Golangâ€Šâ€”â€Šfrom zero to hero</a></p>
</blockquote>

<h1 id="å‰è¨€">å‰è¨€</h1>

<p>Goæ˜¯ä¸€ç§å¼€æºç¼–ç¨‹è¯­è¨€ï¼Œå®ƒä½¿æ„å»ºç®€å•ã€å¯é å’Œé«˜æ•ˆçš„è½¯ä»¶å˜å¾—å®¹æ˜“</p>

<p>Go è¯­è¨€è¢«è®¾è®¡æˆä¸€é—¨åº”ç”¨äºæ­è½½ Web æœåŠ¡å™¨ï¼Œå­˜å‚¨é›†ç¾¤æˆ–ç±»ä¼¼ç”¨é€”çš„å·¨å‹ä¸­å¤®æœåŠ¡å™¨çš„ç³»ç»Ÿç¼–ç¨‹è¯­è¨€ã€‚</p>

<p>å¯¹äºé«˜æ€§èƒ½åˆ†å¸ƒå¼ç³»ç»Ÿé¢†åŸŸè€Œè¨€ï¼ŒGo è¯­è¨€æ— ç–‘æ¯”å¤§å¤šæ•°å…¶å®ƒè¯­è¨€æœ‰ç€æ›´é«˜çš„å¼€å‘æ•ˆç‡ã€‚å®ƒæä¾›äº†æµ·é‡å¹¶è¡Œçš„æ”¯æŒï¼Œè¿™å¯¹äºæ¸¸æˆæœåŠ¡ç«¯çš„å¼€å‘è€Œè¨€æ˜¯å†å¥½ä¸è¿‡äº†ã€‚</p>
<h1 id="å¼€å§‹">å¼€å§‹</h1>
<p>Goåº”ç”¨ç¨‹åºæ˜¯ç”±ä¸€ä¸ªä¸ªpackageç»„æˆï¼Œå…¶ä¸­æ¯ä¸ªGoåº”ç”¨ç¨‹åºéƒ½åŒ…å«ä¸€ä¸ªåä¸º main çš„åŒ…ã€‚package mainè¡¨ç¤ºä¸€ä¸ªå¯ç‹¬ç«‹æ‰§è¡Œçš„ç¨‹åº,å®ƒæ˜¯åº”ç”¨ç¨‹åºçš„å…¥å£ç‚¹ã€‚</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬é€šè¿‡åˆ›å»ºä¸€ä¸ªæ–‡ä»¶mainæ¥ç¼–å†™ä¸€ä¸ªç®€å•çš„hello worldç¤ºä¾‹ã€‚è¿›å…¥Goè¯­è¨€çš„ Workspaceã€‚</p>

<h2 id="workspace-å·¥ä½œç©ºé—´">Workspace å·¥ä½œç©ºé—´</h2>

<p>Goä¸­çš„Workspaceç”±ç¯å¢ƒå˜é‡ <strong>GOPATH</strong> å®šä¹‰<br /></p>

<p>æˆ‘ä»¬Goä»£ç éœ€è¦åœ¨Workspaceä¸­ç¼–å†™ã€‚Goå°†æœç´¢<strong>GOPATH</strong>ç›®å½•æˆ–<strong>GOROOT</strong>ç›®å½•ä¸­çš„ä»»ä½•åŒ…ï¼Œè¿™æ˜¯å®‰è£…Goæ—¶é»˜è®¤è®¾ç½®çš„ã€‚
å…¶ä¸­<strong>GOROOT</strong>æ˜¯å®‰è£…goçš„è·¯å¾„ã€‚</p>

<p>ç°åœ¨æˆ‘ä»¬å°†<strong>GOPATH</strong>è®¾ç½®ä¸º~/workspace</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="c"># export env</span>
<span class="nb">export </span><span class="nv">GOPATH</span><span class="o">=</span>~/workspace
<span class="c"># go inside the workspace directory</span>
<span class="nb">cd</span> ~/workspace
</pre></td></tr></tbody></table></code></pre></div></div>
<p>åœ¨~/workspaceç›®å½•ä¸‹åˆ›å»º <code class="highlighter-rouge">main.go</code> æ–‡ä»¶</p>

<h2 id="hello-world">hello world</h2>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre> <span class="k">package</span> <span class="n">main</span>
 <span class="k">import</span> <span class="p">(</span>
     <span class="s">"fmt"</span>
 <span class="p">)</span>
 <span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
     <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Hello World!"</span><span class="p">)</span>
 <span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œfmtæ˜¯Goä¸­çš„ä¸€ä¸ªå†…ç½®åŒ…ï¼Œå®ƒå®ç°äº†æ ¼å¼åŒ–çš„I/Oçš„åŠŸèƒ½ã€‚<br /></p>

<p>æˆ‘ä»¬ä½¿ç”¨ <code class="highlighter-rouge">import</code> åœ¨Goä¸­å¯¼å…¥ä¸€ä¸ªåŒ…ã€‚<code class="highlighter-rouge">func main</code> æ˜¯æ‰§è¡Œä»£ç çš„ä¸»è¦å…¥å£ç‚¹ã€‚<code class="highlighter-rouge">Println</code> æ˜¯åŒ…fmtä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒä¸ºæˆ‘ä»¬æ‰“å°â€œhello worldâ€ã€‚<br /></p>

<p>è®©æˆ‘ä»¬è¿è¡Œè¿™ä¸ªæ–‡ä»¶ã€‚è¿è¡ŒGoå‘½ä»¤æœ‰ä¸¤ç§æ–¹æ³•ã€‚å› ä¸ºGoæ˜¯ä¸€ç§ç¼–è¯‘è¯­è¨€ï¼Œæ‰€ä»¥æˆ‘ä»¬é¦–å…ˆéœ€è¦åœ¨æ‰§è¡Œä¹‹å‰ç¼–è¯‘å®ƒã€‚</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="o">&gt;</span> go build main.go
</pre></td></tr></tbody></table></code></pre></div></div>
<p>è¿™åˆ›å»ºäº†ä¸€ä¸ªäºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶çš„ <code class="highlighter-rouge">main</code>ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥è¿è¡Œ:</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="o">&gt;</span> ./main
<span class="c"># Hello World!</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>è¿˜æœ‰å¦ä¸€ç§æ›´ç®€å•çš„æ–¹æ³•æ¥è¿è¡Œç¨‹åºã€‚<code class="highlighter-rouge">go run</code> å‘½ä»¤å¸®åŠ©æŠ½è±¡ç¼–è¯‘æ­¥éª¤ã€‚æ‚¨å¯ä»¥ç®€å•åœ°è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥æ‰§è¡Œç¨‹åºã€‚</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="o">&gt;</span> go run main.go
<span class="c"># Hello World!</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h1 id="å˜é‡">å˜é‡</h1>
<p>Goä¸­çš„å˜é‡æ˜¯æ˜¾å¼å£°æ˜çš„ã€‚Goæ˜¯ä¸€ç§é™æ€ç±»å‹è¯­è¨€ã€‚è¿™æ„å‘³ç€åœ¨å˜é‡å£°æ˜æ—¶æ£€æŸ¥å˜é‡ç±»å‹ã€‚å˜é‡å¯ä»¥å£°æ˜ä¸º:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="k">var</span> <span class="n">a</span> <span class="kt">int</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>åœ¨æœ¬ä¾‹ä¸­ï¼Œå€¼å°†è®¾ç½®ä¸º0ã€‚ä½¿ç”¨ä»¥ä¸‹è¯­æ³•å£°æ˜å’Œåˆå§‹åŒ–å…·æœ‰ä¸åŒå€¼çš„å˜é‡:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="k">var</span> <span class="n">a</span> <span class="o">=</span> <span class="m">1</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>è¿™é‡Œå˜é‡è¢«è‡ªåŠ¨èµ‹å€¼ä¸ºintï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å˜é‡å£°æ˜çš„ç®€å†™å®šä¹‰å¦‚ä¸‹:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="n">message</span> <span class="o">:=</span> <span class="s">"hello world"</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨åŒä¸€è¡Œä¸­å£°æ˜å¤šä¸ªå˜é‡:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="k">var</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="kt">int</span> <span class="o">=</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h1 id="æ•°æ®ç±»å‹">æ•°æ®ç±»å‹</h1>
<p>ä¸å…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸€æ ·ï¼ŒGoè¯­è¨€æ”¯æŒå„ç§ä¸åŒçš„æ•°æ®ç»“æ„ã€‚è®©æˆ‘ä»¬æ¥äº†è§£å…¶ä¸­çš„ä¸€äº›:</p>
<h2 id="æ•°å­—å‹å¸ƒå°”å‹-å­—ç¬¦ä¸²å‹">æ•°å­—å‹,å¸ƒå°”å‹, å­—ç¬¦ä¸²å‹</h2>
<p><strong>æ•°å­—ç±»å‹</strong>: int, int8, int16, int32, int64ï¼Œuint, uint8, uint16, uint32, uint64, uintptrâ€¦</p>

<p><strong>å¸ƒå°”å‹</strong>: bool</p>

<p><strong>å­—ç¬¦ä¸²å‹</strong>: å­—ç¬¦ä¸²å°±æ˜¯ä¸€ä¸²å›ºå®šé•¿åº¦çš„å­—ç¬¦è¿æ¥èµ·æ¥çš„å­—ç¬¦åºåˆ—ã€‚å…³é”®å­— string</p>

<p>Goè¯­è¨€è¿˜æ”¯æŒå¤æ•°ç±»å‹çš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥ç”¨complex64å’Œcomplex128æ¥å£°æ˜</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="k">var</span> <span class="n">a</span> <span class="kt">bool</span> <span class="o">=</span> <span class="no">true</span>
<span class="k">var</span> <span class="n">b</span> <span class="kt">int</span> <span class="o">=</span> <span class="m">1</span>
<span class="k">var</span> <span class="n">c</span> <span class="kt">string</span> <span class="o">=</span> <span class="s">"hello world"</span>
<span class="k">var</span> <span class="n">d</span> <span class="kt">float32</span> <span class="o">=</span> <span class="m">1.222</span>
<span class="k">var</span> <span class="n">x</span> <span class="kt">complex128</span> <span class="o">=</span> <span class="n">cmplx</span><span class="o">.</span><span class="n">Sqrt</span><span class="p">(</span><span class="o">-</span><span class="m">5</span> <span class="o">+</span> <span class="m">12i</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="æ•°ç»„-åˆ‡ç‰‡slice-map">æ•°ç»„, åˆ‡ç‰‡(Slice), Map</h2>
<p>æ•°ç»„æ˜¯ç›¸åŒæ•°æ®ç±»å‹çš„å…ƒç´ åºåˆ—ã€‚æ•°ç»„åœ¨å£°æ˜æ—¶å®šä¹‰äº†ä¸€ä¸ªå›ºå®šçš„é•¿åº¦ï¼Œå› æ­¤ä¸èƒ½è¿›è¡Œæ›´å¤§çš„æ‰©å±•ã€‚æ•°ç»„å£°æ˜ä¸º:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="k">var</span> <span class="n">a</span> <span class="p">[</span><span class="m">5</span><span class="p">]</span><span class="kt">int</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>æ•°ç»„ä¹Ÿå¯ä»¥æ˜¯å¤šç»´çš„ã€‚æˆ‘ä»¬å¯ä»¥ç®€å•åœ°ç”¨ä»¥ä¸‹æ ¼å¼åˆ›å»ºå®ƒä»¬:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="k">var</span> <span class="n">multiD</span> <span class="p">[</span><span class="m">2</span><span class="p">][</span><span class="m">3</span><span class="p">]</span><span class="kt">int</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>Go æ•°ç»„çš„é•¿åº¦ä¸å¯æ”¹å˜ï¼Œåœ¨ç‰¹å®šåœºæ™¯ä¸­è¿™æ ·çš„é›†åˆå°±ä¸å¤ªé€‚ç”¨ï¼ŒGoä¸­æä¾›äº†ä¸€ç§çµæ´»ï¼ŒåŠŸèƒ½å¼ºæ‚çš„å†…ç½®ç±»å‹åˆ‡ç‰‡(â€œåŠ¨æ€æ•°ç»„â€),ä¸æ•°ç»„ç›¸æ¯”åˆ‡ç‰‡çš„é•¿åº¦æ˜¯ä¸å›ºå®šçš„ï¼Œå¯ä»¥è¿½åŠ å…ƒç´ ï¼Œåœ¨è¿½åŠ æ—¶å¯èƒ½ä½¿åˆ‡ç‰‡çš„å®¹é‡å¢å¤§ã€‚</p>

<p>åˆ‡ç‰‡å­˜å‚¨å…ƒç´ åºåˆ—ï¼Œå¯ä»¥åœ¨ä»»ä½•æ—¶å€™å±•å¼€ã€‚åˆ‡ç‰‡å£°æ˜ç±»ä¼¼äºæ•°ç»„å£°æ˜,ä¸éœ€è¦å®šä¹‰å®¹é‡:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="k">var</span> <span class="n">b</span> <span class="p">[]</span><span class="kt">int</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>è¿™å°†åˆ›å»ºä¸€ä¸ªå®¹é‡ä¸º0ã€é•¿åº¦ä¸º0çš„åˆ‡ç‰‡ã€‚è¿˜å¯ä»¥ä½¿ç”¨å®¹é‡å’Œé•¿åº¦å®šä¹‰ç‰‡ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹è¯­æ³•:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="n">numbers</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span><span class="m">5</span><span class="p">,</span><span class="m">10</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>è¿™é‡Œï¼Œåˆ‡ç‰‡çš„åˆå§‹é•¿åº¦ä¸º5ï¼Œå®¹é‡ä¸º10ã€‚</p>

<p>åˆ‡ç‰‡æ˜¯æ•°ç»„çš„æŠ½è±¡ã€‚åˆ‡ç‰‡ä½¿ç”¨æ•°ç»„ä½œä¸ºåº•å±‚ç»“æ„ã€‚åˆ‡ç‰‡åŒ…å«ä¸‰ä¸ªç»„ä»¶:å®¹é‡ã€é•¿åº¦å’ŒæŒ‡å‘åº•å±‚æ•°ç»„çš„æŒ‡é’ˆï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º:
<img src="resources/D11B1CD482C5901FC1F9C7215E46DDB1.png" alt="åˆ‡ç‰‡ç»“æ„.png" /></p>

<p>å¯ä»¥é€šè¿‡ä½¿ç”¨é™„åŠ å‡½æ•°æˆ–å¤åˆ¶å‡½æ•°æ¥å¢åŠ åˆ‡ç‰‡çš„å®¹é‡ã€‚<code class="highlighter-rouge">append</code>å‡½æ•°å°†å€¼æ·»åŠ åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œå¹¶åœ¨éœ€è¦æ—¶å¢åŠ å®¹é‡ã€‚</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="n">numbers</span> <span class="o">=</span> <span class="nb">append</span><span class="p">(</span><span class="n">numbers</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">4</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>å¢åŠ åˆ‡ç‰‡å®¹é‡çš„å¦ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨<code class="highlighter-rouge">copy</code>å‡½æ•°ã€‚åªéœ€åˆ›å»ºå¦ä¸€ä¸ªæ›´å¤§å®¹é‡çš„åˆ‡ç‰‡ï¼Œå¹¶å°†åŸå§‹åˆ‡ç‰‡å¤åˆ¶åˆ°æ–°åˆ›å»ºçš„åˆ‡ç‰‡:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="c">// create a new slice</span>
<span class="n">number2</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span> <span class="m">15</span><span class="p">)</span>
<span class="c">// copy the original slice to new slice</span>
<span class="nb">copy</span><span class="p">(</span><span class="n">number2</span><span class="p">,</span> <span class="n">number</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªåˆ‡ç‰‡çš„å­åˆ‡ç‰‡ã€‚åªéœ€ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å³å¯:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

 <span class="k">import</span> <span class="p">(</span>
     <span class="s">"fmt"</span>
 <span class="p">)</span>

 <span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
     <span class="c">// initialize a slice with 4 len and values</span>
     <span class="n">number2</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">4</span><span class="p">}</span>
     <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">number2</span><span class="p">)</span> <span class="c">// -&gt; [1 2 3 4]</span>
     <span class="c">// create sub slices</span>
     <span class="n">slice1</span> <span class="o">:=</span> <span class="n">number2</span><span class="p">[</span><span class="m">2</span><span class="o">:</span><span class="p">]</span>
     <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">slice1</span><span class="p">)</span> <span class="c">// -&gt; [3 4]</span>
     <span class="n">slice2</span> <span class="o">:=</span> <span class="n">number2</span><span class="p">[</span><span class="o">:</span><span class="m">3</span><span class="p">]</span>
     <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">slice2</span><span class="p">)</span> <span class="c">// -&gt; [1 2 3]</span>
     <span class="n">slice3</span> <span class="o">:=</span> <span class="n">number2</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="p">]</span>
     <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">slice3</span><span class="p">)</span> <span class="c">// -&gt; [2 3 4]</span>
 <span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><code class="highlighter-rouge">map</code>æ˜¯Goä¸­çš„ä¸€ç§æ•°æ®ç±»å‹ï¼Œå®ƒå°†é”®æ˜ å°„åˆ°å€¼ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®šä¹‰æ˜ å°„:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="k">var</span> <span class="n">m</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>è¿™é‡Œ<code class="highlighter-rouge">m</code>æ˜¯æ–°çš„<code class="highlighter-rouge">map</code>å˜é‡ï¼Œå®ƒçš„é”®æ˜¯å­—ç¬¦ä¸²ï¼Œå€¼æ˜¯æ•´æ•°ã€‚æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°æ·»åŠ é”®å’Œå€¼åˆ°map:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

 <span class="k">import</span> <span class="p">(</span>
     <span class="s">"fmt"</span>
 <span class="p">)</span>

 <span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
     <span class="n">m</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span><span class="p">)</span>
     <span class="c">// adding key/value</span>
     <span class="n">m</span><span class="p">[</span><span class="s">"clearity"</span><span class="p">]</span> <span class="o">=</span> <span class="m">2</span>
     <span class="n">m</span><span class="p">[</span><span class="s">"simplicity"</span><span class="p">]</span> <span class="o">=</span> <span class="m">3</span>
     <span class="c">// printing the values</span>
     <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="s">"clearity"</span><span class="p">])</span>   <span class="c">// -&gt; 2</span>
     <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="s">"simplicity"</span><span class="p">])</span> <span class="c">// -&gt; 3</span>
 <span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h1 id="ç±»å‹è½¬æ¢">ç±»å‹è½¬æ¢</h1>
<p>å¯ä»¥ä½¿ç”¨ç±»å‹è½¬æ¢å°†ä¸€ç§æ•°æ®ç±»å‹è½¬æ¢ä¸ºå¦ä¸€ç§ç±»å‹ã€‚è®©æˆ‘ä»¬çœ‹çœ‹ä¸€ä¸ªç®€å•çš„ç±»å‹è½¬æ¢:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

 <span class="k">import</span> <span class="p">(</span>
     <span class="s">"fmt"</span>
 <span class="p">)</span>

 <span class="k">func</span> <span class="n">increment</span><span class="p">(</span><span class="n">i</span> <span class="o">*</span><span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
     <span class="o">*</span><span class="n">i</span><span class="o">++</span>
 <span class="p">}</span>

 <span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
     <span class="n">a</span> <span class="o">:=</span> <span class="m">1.1</span>
     <span class="n">b</span> <span class="o">:=</span> <span class="kt">int</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
     <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
     <span class="c">//-&gt; 1</span>
 <span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>å¹¶ä¸æ˜¯æ‰€æœ‰ç±»å‹çš„æ•°æ®ç±»å‹éƒ½å¯ä»¥è½¬æ¢æˆå¦ä¸€ç§ç±»å‹ã€‚ç¡®ä¿æ•°æ®ç±»å‹ä¸è½¬æ¢å…¼å®¹ã€‚</p>

<h1 id="æ¡ä»¶è¯­å¥">æ¡ä»¶è¯­å¥</h1>
<h2 id="if-else">if else</h2>
<p>å¯¹äºæ¡ä»¶è¯­å¥ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code class="highlighter-rouge">if-else</code>è¯­å¥ï¼Œå¦‚ä¸‹é¢çš„ç¤ºä¾‹æ‰€ç¤ºã€‚<strong>è®°ä½ç¡®ä¿èŠ±æ‹¬å·ä¸æ¡ä»¶ä½äºåŒä¸€è¡Œã€‚</strong></p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

 <span class="k">import</span> <span class="p">(</span>
     <span class="s">"fmt"</span>
 <span class="p">)</span>

 <span class="k">func</span> <span class="n">increment</span><span class="p">(</span><span class="n">i</span> <span class="o">*</span><span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
     <span class="o">*</span><span class="n">i</span><span class="o">++</span>
 <span class="p">}</span>

 <span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
     <span class="k">if</span> <span class="n">num</span> <span class="o">:=</span> <span class="m">9</span><span class="p">;</span> <span class="n">num</span> <span class="o">&lt;</span> <span class="m">0</span> <span class="p">{</span>
         <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="s">"is negative"</span><span class="p">)</span>
     <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="n">num</span> <span class="o">&lt;</span> <span class="m">10</span> <span class="p">{</span>
         <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="s">"has 1 digit"</span><span class="p">)</span>
     <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
         <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="s">"has multiple digits"</span><span class="p">)</span>
     <span class="p">}</span>
 <span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="switch-case">switch case</h2>
<p><code class="highlighter-rouge">switch case</code>å¸®åŠ©ç»„ç»‡å¤šä¸ªæ¡ä»¶è¯­å¥ã€‚ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†ä¸€ä¸ªç®€å•çš„<code class="highlighter-rouge">switch case</code>è¯­å¥:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

 <span class="k">import</span> <span class="p">(</span>
     <span class="s">"fmt"</span>
 <span class="p">)</span>

 <span class="k">func</span> <span class="n">increment</span><span class="p">(</span><span class="n">i</span> <span class="o">*</span><span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
     <span class="o">*</span><span class="n">i</span><span class="o">++</span>
 <span class="p">}</span>

 <span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
     <span class="n">i</span> <span class="o">:=</span> <span class="m">2</span>
     <span class="k">switch</span> <span class="n">i</span> <span class="p">{</span>
     <span class="k">case</span> <span class="m">1</span><span class="o">:</span>
         <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"one"</span><span class="p">)</span>
     <span class="k">case</span> <span class="m">2</span><span class="o">:</span>
         <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"two"</span><span class="p">)</span>
     <span class="k">default</span><span class="o">:</span>
         <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"none"</span><span class="p">)</span>
     <span class="p">}</span>
 <span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<h1 id="å¾ªç¯è¯­å¥">å¾ªç¯è¯­å¥</h1>
<p>Goè¯­è¨€å¾ªç¯åªæœ‰ä¸€ä¸ªå…³é”®å­—ã€‚ä¸€ä¸ª<code class="highlighter-rouge">for</code>å¾ªç¯å‘½ä»¤å¸®åŠ©å®ç°ä¸åŒç±»å‹çš„å¾ªç¯:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

 <span class="k">import</span> <span class="p">(</span>
     <span class="s">"fmt"</span>
 <span class="p">)</span>

 <span class="k">func</span> <span class="n">increment</span><span class="p">(</span><span class="n">i</span> <span class="o">*</span><span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
     <span class="o">*</span><span class="n">i</span><span class="o">++</span>
 <span class="p">}</span>

 <span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
     <span class="n">i</span> <span class="o">:=</span> <span class="m">0</span>
     <span class="n">sum</span> <span class="o">:=</span> <span class="m">0</span>
     <span class="k">for</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="m">10</span> <span class="p">{</span>
         <span class="n">sum</span> <span class="o">+=</span> <span class="m">1</span>
         <span class="n">i</span><span class="o">++</span>
     <span class="p">}</span>
     <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">sum</span><span class="p">)</span>
 <span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>é¢çš„ä¾‹å­ç±»ä¼¼äºcè¯­è¨€ä¸­çš„<code class="highlighter-rouge">while</code>å¾ªç¯ã€‚<code class="highlighter-rouge">for</code>è¯­å¥ä¹Ÿå¯ä»¥ç”¨äºæ™®é€šçš„forå¾ªç¯:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

 <span class="k">import</span> <span class="p">(</span>
     <span class="s">"fmt"</span>
 <span class="p">)</span>

 <span class="k">func</span> <span class="n">increment</span><span class="p">(</span><span class="n">i</span> <span class="o">*</span><span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
     <span class="o">*</span><span class="n">i</span><span class="o">++</span>
 <span class="p">}</span>

 <span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
     <span class="n">sum</span> <span class="o">:=</span> <span class="m">0</span>
     <span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="m">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span> <span class="p">{</span>
         <span class="n">sum</span> <span class="o">+=</span> <span class="n">i</span>
     <span class="p">}</span>
     <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">sum</span><span class="p">)</span>
 <span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>Goä¸­çš„æ— é™å¾ªç¯:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="k">for</span> <span class="p">{</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h1 id="æŒ‡é’ˆ">æŒ‡é’ˆ</h1>
<p>Goè¯­è¨€æä¾›æŒ‡é’ˆã€‚æŒ‡é’ˆæ˜¯ä¿å­˜å€¼åœ°å€çš„ä½ç½®ã€‚æŒ‡é’ˆç”±*å®šä¹‰ã€‚æŒ‡é’ˆæ˜¯æ ¹æ®æ•°æ®ç±»å‹å®šä¹‰çš„ã€‚ä¾‹å­:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="k">var</span> <span class="n">ap</span> <span class="o">*</span><span class="kt">int</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>è¿™é‡Œ<code class="highlighter-rouge">ap</code>æ˜¯æŒ‡å‘æ•´æ•°ç±»å‹çš„æŒ‡é’ˆã€‚<code class="highlighter-rouge">&amp;</code>è¿ç®—ç¬¦å¯ç”¨äºè·å–å˜é‡çš„åœ°å€ã€‚</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="n">a</span> <span class="o">:=</span> <span class="m">12</span>
<span class="n">ap</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">a</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>æŒ‡é’ˆæ‰€æŒ‡å‘çš„å€¼å¯ä»¥ä½¿ç”¨*æ“ä½œç¬¦è®¿é—®:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="o">*</span><span class="n">ap</span><span class="p">)</span>
<span class="c">// =&gt; 12</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>åœ¨ä¼ é€’ç»“æ„ä½œä¸ºå‚æ•°æˆ–ä¸ºå®šä¹‰çš„ç±»å‹å£°æ˜æ–¹æ³•æ—¶ï¼ŒæŒ‡é’ˆé€šå¸¸æ˜¯é¦–é€‰çš„ã€‚</p>
<ol>
  <li>å½“ä¼ é€’å€¼æ—¶ï¼Œå€¼å®é™…ä¸Šè¢«å¤åˆ¶ï¼Œè¿™æ„å‘³ç€åº”ç”¨ç¨‹åºå°†å ç”¨æ›´å¤šçš„å†…å­˜</li>
  <li>æŒ‡é’ˆä¼ é€’ä¹‹åï¼Œå‡½æ•°æ‰€æ›´æ”¹çš„å€¼å°†åæ˜ å›æ–¹æ³•/å‡½æ•°è°ƒç”¨è€…ä¸­ã€‚</li>
</ol>

<p>ä¾‹å­:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

 <span class="k">import</span> <span class="p">(</span>
     <span class="s">"fmt"</span>
 <span class="p">)</span>

 <span class="k">func</span> <span class="n">increment</span><span class="p">(</span><span class="n">i</span> <span class="o">*</span><span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
     <span class="o">*</span><span class="n">i</span><span class="o">++</span>
 <span class="p">}</span>

 <span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
     <span class="n">i</span> <span class="o">:=</span> <span class="m">10</span>
     <span class="n">increment</span><span class="p">(</span><span class="o">&amp;</span><span class="n">i</span><span class="p">)</span>
     <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
 <span class="p">}</span>
 <span class="c">//=&gt; 11</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><strong>æ³¨æ„</strong>:å½“æ‚¨åœ¨å°è¯•ç¤ºä¾‹ä»£ç æ—¶ï¼Œä¸è¦å¿˜è®°å°†å…¶åŒ…å«åœ¨<code class="highlighter-rouge"><span class="k">package</span> <span class="n">main</span></code>ä¸­ï¼Œå¹¶åœ¨éœ€è¦æ—¶å¯¼å…¥fmtæˆ–å…¶ä»–åŒ…ã€‚</p>

<h1 id="å‡½æ•°">å‡½æ•°</h1>
<p><code class="highlighter-rouge"><span class="k">package</span> <span class="n">main</span></code>ä¸­å®šä¹‰çš„<code class="highlighter-rouge">func main()</code>æ˜¯goè¯­è¨€ç¨‹åºè¦æ‰§è¡Œçš„å…¥å£ç‚¹ã€‚å¯ä»¥å®šä¹‰å’Œä½¿ç”¨æ›´å¤šçš„å‡½æ•°ã€‚è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

 <span class="k">import</span> <span class="p">(</span>
     <span class="s">"fmt"</span>
 <span class="p">)</span>

 <span class="k">func</span> <span class="n">add</span><span class="p">(</span><span class="n">a</span> <span class="kt">int</span><span class="p">,</span> <span class="n">b</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
     <span class="n">c</span> <span class="o">:=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
     <span class="k">return</span> <span class="n">c</span>
 <span class="p">}</span>

 <span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
     <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">add</span><span class="p">(</span><span class="m">2</span><span class="p">,</span> <span class="m">1</span><span class="p">))</span>
 <span class="p">}</span>
 <span class="c">//=&gt; 3</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>æ­£å¦‚æˆ‘ä»¬åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­æ‰€çœ‹åˆ°çš„ï¼ŒGoè¯­è¨€å‡½æ•°æ˜¯ä½¿ç”¨funcå…³é”®å­—å®šä¹‰çš„ã€‚å‡½æ•°æ‰€æ¥å—çš„å‚æ•°éœ€è¦æ ¹æ®å…¶æ•°æ®ç±»å‹å®šä¹‰ï¼Œæœ€åæ˜¯è¿”å›çš„æ•°æ®ç±»å‹ã€‚</p>

<p>å‡½æ•°çš„è¿”å›ä¹Ÿå¯ä»¥åœ¨å‡½æ•°ä¸­é¢„å®šä¹‰:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

 <span class="k">import</span> <span class="p">(</span>
     <span class="s">"fmt"</span>
 <span class="p">)</span>

 <span class="k">func</span> <span class="n">add</span><span class="p">(</span><span class="n">a</span> <span class="kt">int</span><span class="p">,</span> <span class="n">b</span> <span class="kt">int</span><span class="p">)</span> <span class="p">(</span><span class="n">c</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
     <span class="n">c</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
     <span class="k">return</span>
 <span class="p">}</span>

 <span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
     <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">add</span><span class="p">(</span><span class="m">2</span><span class="p">,</span> <span class="m">1</span><span class="p">))</span>
 <span class="p">}</span>
 <span class="c">//=&gt; 3</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>è¿™é‡Œ<code class="highlighter-rouge">c</code>è¢«å®šä¹‰ä¸ºè¿”å›å˜é‡ã€‚å› æ­¤ï¼Œå®šä¹‰çš„å˜é‡<code class="highlighter-rouge">c</code>å°†è‡ªåŠ¨è¿”å›ï¼Œè€Œä¸éœ€è¦åœ¨æœ€åçš„<code class="highlighter-rouge">return</code>è¯­å¥ä¸­å®šä¹‰ã€‚</p>

<p>æ‚¨è¿˜å¯ä»¥ä»ä¸€ä¸ªç”¨é€—å·åˆ†éš”è¿”å›å€¼çš„å‡½æ•°è¿”å›å¤šä¸ªè¿”å›å€¼ã€‚</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

 <span class="n">import</span> <span class="p">(</span>
     <span class="s2">"fmt"</span>
 <span class="p">)</span>

 <span class="n">func</span> <span class="n">add</span><span class="p">(</span><span class="n">a</span> <span class="n">int</span><span class="p">,</span> <span class="n">b</span> <span class="n">int</span><span class="p">)</span> <span class="p">(</span><span class="n">int</span><span class="p">,</span> <span class="k">string</span><span class="p">)</span> <span class="p">{</span>
     <span class="n">c</span> <span class="p">:=</span> <span class="n">a</span> <span class="p">+</span> <span class="n">b</span>
     <span class="n">return</span> <span class="n">c</span><span class="p">,</span> <span class="s2">"successfully added"</span>
 <span class="p">}</span>

 <span class="n">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
     <span class="k">sum</span><span class="p">,</span> <span class="n">message</span> <span class="p">:=</span> <span class="n">add</span><span class="p">(</span><span class="m">2</span><span class="p">,</span> <span class="m">1</span><span class="p">)</span>
     <span class="n">fmt</span><span class="p">.</span><span class="n">Println</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
     <span class="n">fmt</span><span class="p">.</span><span class="n">Println</span><span class="p">(</span><span class="k">sum</span><span class="p">)</span>
 <span class="p">}</span>

 <span class="p">//=&gt;</span> <span class="n">successfully</span> <span class="n">added</span>
 <span class="p">//=&gt;</span> <span class="m">3</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h1 id="æ–¹æ³•ç»“æ„ä½“å’Œæ¥å£">æ–¹æ³•,ç»“æ„ä½“å’Œæ¥å£</h1>
<p>Goè¯­è¨€ä¸æ˜¯ä¸€ç§å®Œå…¨é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œä½†æ˜¯é€šè¿‡ç»“æ„ã€æ¥å£å’Œæ–¹æ³•ï¼Œå®ƒæœ‰å¾ˆå¤šé¢å‘å¯¹è±¡çš„æ”¯æŒå’Œæ„Ÿè§‰ã€‚</p>
<h2 id="ç»“æ„ä½“struct">ç»“æ„ä½“struct</h2>
<p>ç»“æ„ä½“æ˜¯ä¸åŒå­—æ®µçš„ç±»å‹åŒ–é›†åˆã€‚ç»“æ„ç”¨äºå°†æ•°æ®åˆ†ç»„åœ¨ä¸€èµ·ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æƒ³å¯¹Personç±»å‹çš„æ•°æ®è¿›è¡Œåˆ†ç»„ï¼Œæˆ‘ä»¬å®šä¹‰Personçš„å±æ€§ï¼Œè¯¥å±æ€§å¯ä»¥åŒ…æ‹¬å§“åã€å¹´é¾„ã€æ€§åˆ«ã€‚ç»“æ„å¯ä»¥ä½¿ç”¨ä»¥ä¸‹è¯­æ³•å®šä¹‰:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">person</span> <span class="k">struct</span> <span class="p">{</span>
     <span class="n">name</span>   <span class="kt">string</span>
     <span class="n">age</span>    <span class="kt">int</span>
     <span class="n">gender</span> <span class="kt">string</span>
 <span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>å®šä¹‰äº†personç±»å‹ç»“æ„ä¹‹åï¼Œç°åœ¨è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªperson:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="c">//way 1: specifying attribute and value</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">person</span><span class="p">{</span><span class="n">name</span><span class="o">:</span> <span class="s">"Bob"</span><span class="p">,</span> <span class="n">age</span><span class="o">:</span> <span class="m">42</span><span class="p">,</span> <span class="n">gender</span><span class="o">:</span> <span class="s">"Male"</span><span class="p">}</span>
<span class="c">//way 2: specifying only value</span>
<span class="n">person</span><span class="p">{</span><span class="s">"Bob"</span><span class="p">,</span> <span class="m">42</span><span class="p">,</span> <span class="s">"Male"</span><span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>æˆ‘ä»¬å¯ä»¥ç”¨<code class="highlighter-rouge">.</code>(ç‚¹)è®¿é—®è¿™äº›æ•°æ®ã€‚</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="n">p</span><span class="o">.</span><span class="n">name</span>
<span class="c">//=&gt; Bob</span>
<span class="n">p</span><span class="o">.</span><span class="n">age</span>
<span class="c">//=&gt; 42</span>
<span class="n">p</span><span class="o">.</span><span class="n">gender</span>
<span class="c">//=&gt; Male</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>ä½ ä¹Ÿå¯ä»¥ç›´æ¥ç”¨å®ƒçš„æŒ‡é’ˆè®¿é—®ç»“æ„çš„å±æ€§:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="n">pp</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">person</span><span class="p">{</span><span class="n">name</span><span class="o">:</span> <span class="s">"Bob"</span><span class="p">,</span> <span class="n">age</span><span class="o">:</span> <span class="m">42</span><span class="p">,</span> <span class="n">gender</span><span class="o">:</span> <span class="s">"Male"</span><span class="p">}</span>
<span class="n">pp</span><span class="o">.</span><span class="n">name</span>
<span class="c">//=&gt; Bob</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<h2 id="æ–¹æ³•">æ–¹æ³•</h2>
<p>æ–¹æ³•æ˜¯å¸¦æœ‰æ¥æ”¶è€…çš„ç‰¹æ®Šå‡½æ•°ç±»å‹ã€‚æ¥æ”¶è€…å¯ä»¥æ˜¯å€¼ä¹Ÿå¯ä»¥æ˜¯æŒ‡é’ˆã€‚è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåä¸º<code class="highlighter-rouge">describe</code>çš„æ–¹æ³•ï¼Œå®ƒå…·æœ‰æˆ‘ä»¬åœ¨ä¸Šé¢ä¾‹å­ä¸­åˆ›å»ºçš„æ¥æ”¶è€…ç±»å‹person:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

 <span class="k">import</span> <span class="s">"fmt"</span>

 <span class="c">// struct defination</span>
 <span class="k">type</span> <span class="n">person</span> <span class="k">struct</span> <span class="p">{</span>
     <span class="n">name</span>   <span class="kt">string</span>
     <span class="n">age</span>    <span class="kt">int</span>
     <span class="n">gender</span> <span class="kt">string</span>
 <span class="p">}</span>

 <span class="c">// method defination</span>
 <span class="k">func</span> <span class="p">(</span><span class="n">p</span> <span class="o">*</span><span class="n">person</span><span class="p">)</span> <span class="n">describe</span><span class="p">()</span> <span class="p">{</span>
     <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%v is %v years old."</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">age</span><span class="p">)</span>
 <span class="p">}</span>

 <span class="k">func</span> <span class="p">(</span><span class="n">p</span> <span class="o">*</span><span class="n">person</span><span class="p">)</span> <span class="n">setAge</span><span class="p">(</span><span class="n">age</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
     <span class="n">p</span><span class="o">.</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span>
 <span class="p">}</span>

 <span class="k">func</span> <span class="p">(</span><span class="n">p</span> <span class="n">person</span><span class="p">)</span> <span class="n">setName</span><span class="p">(</span><span class="n">name</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
     <span class="n">p</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
 <span class="p">}</span>

 <span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
     <span class="n">pp</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">person</span><span class="p">{</span><span class="n">name</span><span class="o">:</span> <span class="s">"Bob"</span><span class="p">,</span> <span class="n">age</span><span class="o">:</span> <span class="m">42</span><span class="p">,</span> <span class="n">gender</span><span class="o">:</span> <span class="s">"Male"</span><span class="p">}</span>
     <span class="n">pp</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
     <span class="c">// =&gt; Bob is 42 years old</span>
     <span class="n">pp</span><span class="o">.</span><span class="n">setAge</span><span class="p">(</span><span class="m">45</span><span class="p">)</span>
     <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">pp</span><span class="o">.</span><span class="n">age</span><span class="p">)</span>
     <span class="c">//=&gt; 45</span>
     <span class="n">pp</span><span class="o">.</span><span class="n">setName</span><span class="p">(</span><span class="s">"Hari"</span><span class="p">)</span>
     <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">pp</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
     <span class="c">//=&gt; Bob</span>
 <span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>æ­£å¦‚æˆ‘ä»¬åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­æ‰€çœ‹åˆ°çš„ï¼Œç°åœ¨å¯ä»¥ä½¿ç”¨<code class="highlighter-rouge">.</code>ç‚¹æ“ä½œç¬¦ä½œä¸º<code class="highlighter-rouge">pp.describe</code>æ¥è°ƒç”¨è¯¥æ–¹æ³•ã€‚æ³¨æ„ï¼Œæ¥æ”¶è€…æ˜¯ä¸€ä¸ªæŒ‡é’ˆã€‚ä½¿ç”¨æŒ‡é’ˆï¼Œæˆ‘ä»¬å°†ä¼ é€’ä¸€ä¸ªå¯¹è¯¥å€¼çš„å¼•ç”¨ï¼Œæ‰€ä»¥å¦‚æœæˆ‘ä»¬å¯¹æ–¹æ³•åšä»»ä½•æ›´æ”¹ï¼Œå®ƒå°†åæ˜ åœ¨æ¥å—è€…<code class="highlighter-rouge">pp</code>ä¸­ã€‚å®ƒä¹Ÿä¸åˆ›å»ºå¯¹è±¡çš„æ–°å‰¯æœ¬ï¼Œè¿™èŠ‚çœäº†å†…å­˜ã€‚</p>

<p>æ³¨æ„ï¼Œåœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œ<code class="highlighter-rouge">age</code>çš„å€¼è¢«æ›´æ”¹ï¼Œè€Œ<code class="highlighter-rouge">name</code>çš„å€¼æ²¡æœ‰æ›´æ”¹ï¼Œå› ä¸ºæ–¹æ³•<code class="highlighter-rouge">setName</code>æ˜¯æ¥å—è€…çš„ç±»å‹ï¼Œè€Œ<code class="highlighter-rouge">setAge</code>æ˜¯æŒ‡é’ˆç±»å‹ã€‚</p>

<h2 id="æ¥å£">æ¥å£</h2>
<p>Goè¯­è¨€æ¥å£æ˜¯ä¸€ç»„æ–¹æ³•ã€‚æ¥å£å¸®åŠ©å°†ç±»å‹çš„å±æ€§ç»„åˆåœ¨ä¸€èµ·ã€‚è®©æˆ‘ä»¬ä»¥æ¥å£<code class="highlighter-rouge">animal</code>ä¸ºä¾‹:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="k">type</span> <span class="n">animal</span> <span class="k">interface</span> <span class="p">{</span>
     <span class="n">description</span><span class="p">()</span> <span class="kt">string</span>
 <span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>è¿™é‡Œ<code class="highlighter-rouge">animal</code>æ˜¯ä¸€ä¸ªæ¥å£ç±»å‹ã€‚ç°åœ¨è®©æˆ‘ä»¬åˆ›å»ºä¸¤ç§ä¸åŒç±»å‹çš„åŠ¨ç‰©ï¼Œå®ƒä»¬å®ç°äº†<code class="highlighter-rouge">animal</code>æ¥å£ç±»å‹:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

 <span class="k">import</span> <span class="p">(</span>
     <span class="s">"fmt"</span>
 <span class="p">)</span>

 <span class="k">type</span> <span class="n">animal</span> <span class="k">interface</span> <span class="p">{</span>
     <span class="n">description</span><span class="p">()</span> <span class="kt">string</span>
 <span class="p">}</span>

 <span class="k">type</span> <span class="n">cat</span> <span class="k">struct</span> <span class="p">{</span>
     <span class="n">Type</span>  <span class="kt">string</span>
     <span class="n">Sound</span> <span class="kt">string</span>
 <span class="p">}</span>

 <span class="k">type</span> <span class="n">snake</span> <span class="k">struct</span> <span class="p">{</span>
     <span class="n">Type</span>      <span class="kt">string</span>
     <span class="n">Poisonous</span> <span class="kt">bool</span>
 <span class="p">}</span>

 <span class="k">func</span> <span class="p">(</span><span class="n">s</span> <span class="n">snake</span><span class="p">)</span> <span class="n">description</span><span class="p">()</span> <span class="kt">string</span> <span class="p">{</span>
     <span class="k">return</span> <span class="n">fmt</span><span class="o">.</span><span class="n">Sprintf</span><span class="p">(</span><span class="s">"Poisonous: %v"</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">Poisonous</span><span class="p">)</span>
 <span class="p">}</span>

 <span class="k">func</span> <span class="p">(</span><span class="n">c</span> <span class="n">cat</span><span class="p">)</span> <span class="n">description</span><span class="p">()</span> <span class="kt">string</span> <span class="p">{</span>
     <span class="k">return</span> <span class="n">fmt</span><span class="o">.</span><span class="n">Sprintf</span><span class="p">(</span><span class="s">"Sound: %v"</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">Sound</span><span class="p">)</span>
 <span class="p">}</span>

 <span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
     <span class="k">var</span> <span class="n">a</span> <span class="n">animal</span>
     <span class="n">a</span> <span class="o">=</span> <span class="n">snake</span><span class="p">{</span><span class="n">Poisonous</span><span class="o">:</span> <span class="no">true</span><span class="p">}</span>
     <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">description</span><span class="p">())</span>
     <span class="n">a</span> <span class="o">=</span> <span class="n">cat</span><span class="p">{</span><span class="n">Sound</span><span class="o">:</span> <span class="s">"Meow!!!"</span><span class="p">}</span>
     <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">description</span><span class="p">())</span>
 <span class="p">}</span>

 <span class="c">//=&gt; Poisonous: true</span>
 <span class="c">//=&gt; Sound: Meow!!!</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>åœ¨ä¸»å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª<code class="highlighter-rouge">animal</code>ç±»å‹çš„å˜é‡<code class="highlighter-rouge">a</code>ã€‚æˆ‘ä»¬ç»™è¿™ç§åŠ¨ç‰©åˆ†é…äº†ä¸€ä¸ª<code class="highlighter-rouge">snake</code>å’Œä¸€ä¸ª<code class="highlighter-rouge">cat</code>çš„ç±»å‹ï¼Œå¹¶ä½¿ç”¨<code class="highlighter-rouge">Println</code>æ‰“å°<code class="highlighter-rouge">a.description</code>ã€‚å› ä¸ºæˆ‘ä»¬ä»¥ä¸åŒçš„æ–¹å¼å®ç°äº†è¿™ä¸¤ç§ç±»å‹(snakeå’Œcat)ä¸­çš„æè¿°æ–¹æ³•ï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰“å°äº†<code class="highlighter-rouge">animal</code>çš„æè¿°ã€‚</p>

<h1 id="åŒ…package">åŒ…package</h1>
<p>æˆ‘ä»¬åœ¨ä¸€ä¸ªåŒ…ä¸­ç”¨Goè¯­è¨€ç¼–å†™æ‰€æœ‰ä»£ç ã€‚<code class="highlighter-rouge">main package</code> æ˜¯ç¨‹åºæ‰§è¡Œçš„å…¥å£ç‚¹ã€‚Goä¸­æœ‰å¾ˆå¤šå†…ç½®åŒ…ã€‚æˆ‘ä»¬ä½¿ç”¨çš„æœ€å¸¸ç”¨çš„å°±å±fmtåŒ…ã€‚</p>

<h2 id="å®‰è£…åŒ…">å®‰è£…åŒ…</h2>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="o">&gt;</span> go get
// example
<span class="o">&gt;</span> go get github.com/satori/go.uuid
</pre></td></tr></tbody></table></code></pre></div></div>
<p>æˆ‘ä»¬å®‰è£…çš„åŒ…ä¿å­˜åœ¨<code class="highlighter-rouge">GOPATH</code> è·¯å¾„ä¸‹ï¼Œè¿™æ˜¯æˆ‘ä»¬çš„å·¥ä½œç›®å½•ã€‚é€šè¿‡è¿›å…¥å·¥ä½œç›®<code class="highlighter-rouge">å½•cd $GOPATH/pkg</code>ä¸­çš„<code class="highlighter-rouge">pkg</code>æ–‡ä»¶å¤¹ï¼Œæ‚¨å¯ä»¥çœ‹åˆ°è¿™äº›åŒ…ã€‚</p>

<h2 id="åˆ›å»ºè‡ªå®šä¹‰åŒ…">åˆ›å»ºè‡ªå®šä¹‰åŒ…</h2>
<p>å…ˆä»åˆ›å»ºæ–‡ä»¶å¤¹custom_package:</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="o">&gt;</span> <span class="nb">mkdir </span>custom_package
<span class="o">&gt;</span> <span class="nb">cd </span>custom_package
</pre></td></tr></tbody></table></code></pre></div></div>
<p>è¦åˆ›å»ºè‡ªå®šä¹‰åŒ…ï¼Œæˆ‘ä»¬éœ€è¦é¦–å…ˆåˆ›å»ºä¸€ä¸ªåŒ…å«æ‰€éœ€åŒ…åç§°çš„æ–‡ä»¶å¤¹ã€‚å‡è®¾æˆ‘ä»¬æ­£åœ¨æ„å»ºä¸€ä¸ª<code class="highlighter-rouge"><span class="k">package</span> <span class="n">person</span></code>ã€‚ä¸ºæ­¤ï¼Œè®©æˆ‘ä»¬åœ¨<code class="highlighter-rouge">custom_package</code>æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªåä¸º<code class="highlighter-rouge">person</code>çš„æ–‡ä»¶å¤¹:</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="o">&gt;</span> <span class="nb">mkdir </span>person
<span class="o">&gt;</span> <span class="nb">cd </span>person
</pre></td></tr></tbody></table></code></pre></div></div>
<p>ç°åœ¨æˆ‘ä»¬åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºæ–‡ä»¶<code class="highlighter-rouge">person.go</code></p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre> <span class="k">package</span> <span class="n">person</span>

 <span class="k">func</span> <span class="n">Description</span><span class="p">(</span><span class="n">name</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
     <span class="k">return</span> <span class="s">"The person name is: "</span> <span class="o">+</span> <span class="n">name</span>
 <span class="p">}</span>

 <span class="k">func</span> <span class="n">secretName</span><span class="p">(</span><span class="n">name</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
     <span class="k">return</span> <span class="s">"Do not share"</span>
 <span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>ç°åœ¨æˆ‘ä»¬éœ€è¦å®‰è£…è¿™ä¸ªåŒ…ï¼Œä»¥ä¾¿å¯¼å…¥å’Œä½¿ç”¨å®ƒã€‚æ‰€ä»¥è®©æˆ‘ä»¬å®‰è£…å®ƒ:</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="o">&gt;</span> go <span class="nb">install</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>ç°åœ¨è®©æˆ‘ä»¬å›åˆ°custom_packageæ–‡ä»¶å¤¹å¹¶åˆ›å»ºä¸€ä¸ª<code class="highlighter-rouge">main.go</code>æ–‡ä»¶</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

 <span class="k">import</span> <span class="p">(</span>
     <span class="s">"custom_package/person"</span>
     <span class="s">"fmt"</span>
 <span class="p">)</span>

 <span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
     <span class="n">p</span> <span class="o">:=</span> <span class="n">person</span><span class="o">.</span><span class="n">Description</span><span class="p">(</span><span class="s">"Milap"</span><span class="p">)</span>
     <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
 <span class="p">}</span>

 <span class="c">// =&gt; The person name is: Milap</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥å¯¼å…¥æˆ‘ä»¬åˆ›å»ºçš„åŒ…<code class="highlighter-rouge">person</code>å¹¶ä½¿ç”¨å‡½æ•°<code class="highlighter-rouge">Description</code>ã€‚æ³¨æ„ï¼Œæˆ‘ä»¬åœ¨åŒ…ä¸­åˆ›å»ºçš„å‡½æ•°<code class="highlighter-rouge">secretName</code>å°†ä¸å¯è®¿é—®ã€‚åœ¨Goä¸­ï¼Œ<strong>æ²¡æœ‰å¤§å†™å­—æ¯å¼€å¤´çš„æ–¹æ³•åå°†æ˜¯ç§æœ‰çš„</strong>ã€‚</p>

<h2 id="åŒ…çš„æ–‡æ¡£">åŒ…çš„æ–‡æ¡£</h2>
<p>Goè¯­è¨€å†…ç½®äº†å¯¹åŒ…æ–‡æ¡£çš„æ”¯æŒã€‚è¿è¡Œä»¥ä¸‹å‘½ä»¤ç”Ÿæˆæ–‡æ¡£:</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="o">&gt;</span> godoc person Description
</pre></td></tr></tbody></table></code></pre></div></div>
<p>å°†ä¸º<code class="highlighter-rouge"><span class="k">package</span> <span class="n">person</span></code>ä¸­çš„<code class="highlighter-rouge">Description</code>å‡½æ•°ç”Ÿæˆæ–‡æ¡£ã€‚è¦æŸ¥çœ‹æ–‡æ¡£ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿è¡ŒwebæœåŠ¡å™¨:</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>godoc <span class="nt">-http</span><span class="o">=</span><span class="s2">":8080"</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>ç°åœ¨è½¬åˆ°<a href="http://localhost:8080/pkg/">http://localhost:8080/pkg/</a>ï¼ŒæŸ¥çœ‹æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„åŒ…çš„æ–‡æ¡£ã€‚</p>

<h2 id="goè¯­è¨€çš„å†…ç½®åŒ…">Goè¯­è¨€çš„å†…ç½®åŒ…</h2>
<h3 id="fmt">fmt</h3>
<p>è¯¥åŒ…å®ç°æ ¼å¼åŒ–çš„I/Oå‡½æ•°ã€‚</p>

<h3 id="json">json</h3>
<p>Goè¯­è¨€ä¸­å¦ä¸€ä¸ªæœ‰ç”¨çš„åŒ…æ˜¯jsonåŒ…ã€‚è¿™æœ‰åŠ©äºå¯¹JSONè¿›è¡Œç¼–ç /è§£ç ã€‚è®©æˆ‘ä»¬ä¸¾ä¸€ä¸ªä¾‹å­æ¥ç¼–ç /è§£ç ä¸€äº›json:</p>

<p><strong>ç¼–ç </strong></p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

 <span class="k">import</span> <span class="p">(</span>
     <span class="s">"encoding/json"</span>
     <span class="s">"fmt"</span>
 <span class="p">)</span>

 <span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
     <span class="n">mapA</span> <span class="o">:=</span> <span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="s">"apple"</span><span class="o">:</span> <span class="m">5</span><span class="p">,</span> <span class="s">"lettuce"</span><span class="o">:</span> <span class="m">7</span><span class="p">}</span>
     <span class="n">mapB</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">Marshal</span><span class="p">(</span><span class="n">mapA</span><span class="p">)</span>
     <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="kt">string</span><span class="p">(</span><span class="n">mapB</span><span class="p">))</span>
 <span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><strong>è§£ç </strong></p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre> <span class="k">package</span> <span class="n">main</span>

 <span class="k">import</span> <span class="p">(</span>
     <span class="s">"encoding/json"</span>
     <span class="s">"fmt"</span>
 <span class="p">)</span>

 <span class="k">type</span> <span class="n">response</span> <span class="k">struct</span> <span class="p">{</span>
     <span class="n">PageNumber</span> <span class="kt">int</span>      <span class="n">json</span><span class="o">:</span><span class="s">"page"</span>
     <span class="n">Fruits</span>     <span class="p">[]</span><span class="kt">string</span> <span class="n">json</span><span class="o">:</span><span class="s">"fruits"</span>
 <span class="p">}</span>

 <span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
     <span class="n">str</span> <span class="o">:=</span> <span class="p">{</span><span class="s">"page"</span><span class="o">:</span> <span class="m">1</span><span class="p">,</span> <span class="s">"fruits"</span><span class="o">:</span> <span class="p">[</span><span class="s">"apple"</span><span class="p">,</span> <span class="s">"peach"</span><span class="p">]}</span>
     <span class="n">res</span> <span class="o">:=</span> <span class="n">response</span><span class="p">{}</span>
     <span class="n">json</span><span class="o">.</span><span class="n">Unmarshal</span><span class="p">([]</span><span class="kt">byte</span><span class="p">(</span><span class="n">str</span><span class="p">),</span> <span class="o">&amp;</span><span class="n">res</span><span class="p">)</span>
     <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">PageNumber</span><span class="p">)</span>
 <span class="p">}</span>

 <span class="c">//=&gt; 1</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>å½“ä½¿ç”¨<code class="highlighter-rouge">unmarshal</code>è§£ç jsonå­—èŠ‚æ—¶ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­—èŠ‚ç±»å‹çš„jsonï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æˆ‘ä»¬å¸Œæœ›jsonæ˜ å°„åˆ°çš„å“åº”ç±»å‹structçš„åœ°å€ã€‚æ³¨æ„ï¼Œ<code class="highlighter-rouge">json:â€œpageâ€</code>å°†mapé”®æ˜ å°„åˆ°ç»“æ„ä¸­çš„<code class="highlighter-rouge">PageNumber</code>é”®ã€‚</p>

<h1 id="é”™è¯¯å¤„ç†">é”™è¯¯å¤„ç†</h1>
<p>é”™è¯¯æ˜¯åº”ç”¨ç¨‹åºä¸æœŸæœ›çš„å’Œæ„å¤–çš„ç»“æœã€‚å‡è®¾æˆ‘ä»¬æ­£åœ¨å¯¹å¤–éƒ¨æœåŠ¡è¿›è¡ŒAPIè°ƒç”¨ã€‚è¿™ä¸ªAPIè°ƒç”¨å¯èƒ½æˆåŠŸï¼Œä¹Ÿå¯èƒ½å¤±è´¥ã€‚å½“å‡ºç°é”™è¯¯ç±»å‹æ—¶ï¼Œå¯ä»¥è¯†åˆ«Goè¯­è¨€ç¨‹åºä¸­çš„é”™è¯¯ã€‚è®©æˆ‘ä»¬çœ‹çœ‹è¿™ä¸ªä¾‹å­:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="n">resp</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">Get</span><span class="p">(</span><span class="s">"http://example.com/"</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>åœ¨è¿™é‡Œï¼Œå¯¹é”™è¯¯å¯¹è±¡çš„APIè°ƒç”¨å¯èƒ½é€šè¿‡ï¼Œä¹Ÿå¯èƒ½å¤±è´¥ã€‚æˆ‘ä»¬å¯ä»¥æ£€æŸ¥é”™è¯¯æ˜¯<code class="highlighter-rouge">nil</code>è¿˜æ˜¯<code class="highlighter-rouge">present</code>ï¼Œå¹¶ç›¸åº”åœ°å¤„ç†å“åº”:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre> <span class="k">package</span> <span class="n">main</span>

 <span class="k">import</span> <span class="p">(</span>
     <span class="s">"fmt"</span>
     <span class="s">"net/http"</span>
 <span class="p">)</span>

 <span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
     <span class="n">resp</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">Get</span><span class="p">(</span><span class="s">"http://example.com/"</span><span class="p">)</span>
     <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
         <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
         <span class="k">return</span>
     <span class="p">}</span>
     <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span>
 <span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="ä»å‡½æ•°è¿”å›è‡ªå®šä¹‰é”™è¯¯">ä»å‡½æ•°è¿”å›è‡ªå®šä¹‰é”™è¯¯</h2>
<p>å½“æˆ‘ä»¬ç¼–å†™è‡ªå·±çš„å‡½æ•°æ—¶ï¼Œæœ‰æ—¶ä¼šå‡ºç°é”™è¯¯ã€‚è¿™äº›é”™è¯¯å¯ä»¥åœ¨<code class="highlighter-rouge">error</code>å¯¹è±¡çš„å¸®åŠ©ä¸‹è¿”å›:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre></td><td class="rouge-code"><pre> <span class="k">package</span> <span class="n">main</span>

 <span class="k">import</span> <span class="p">(</span>
     <span class="s">"errors"</span>
     <span class="s">"fmt"</span>
 <span class="p">)</span>

 <span class="k">func</span> <span class="n">Increment</span><span class="p">(</span><span class="n">n</span> <span class="kt">int</span><span class="p">)</span> <span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
     <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="m">0</span> <span class="p">{</span>
         <span class="c">// return error object</span>
         <span class="k">return</span> <span class="m">0</span><span class="p">,</span> <span class="n">errors</span><span class="o">.</span><span class="n">New</span><span class="p">(</span><span class="s">"math: cannot process negative number"</span><span class="p">)</span>
     <span class="p">}</span>
     <span class="k">return</span> <span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="m">1</span><span class="p">),</span> <span class="no">nil</span>
 <span class="p">}</span>

 <span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
     <span class="n">num</span> <span class="o">:=</span> <span class="m">5</span>
     <span class="k">if</span> <span class="n">inc</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">Increment</span><span class="p">(</span><span class="n">num</span><span class="p">);</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
         <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"Failed Number: %v, error message: %v"</span><span class="p">,</span> <span class="n">num</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
     <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
         <span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"Incremented Number: %v"</span><span class="p">,</span> <span class="n">inc</span><span class="p">)</span>
     <span class="p">}</span>
 <span class="p">}</span>

 <span class="c">// =&gt; The person name is: Milap</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>æˆ‘ä»¬ä½¿ç”¨çš„å¤§å¤šæ•°å†…ç½®æˆ–å¤–éƒ¨åŒ…éƒ½æœ‰é”™è¯¯å¤„ç†æœºåˆ¶ã€‚æ‰€ä»¥æˆ‘ä»¬è°ƒç”¨çš„ä»»ä½•å‡½æ•°éƒ½å¯èƒ½æœ‰é”™è¯¯ã€‚ä¸åº”è¯¥å¿½ç•¥è¿™äº›é”™è¯¯ï¼Œå¹¶ä¸”æ€»æ˜¯åœ¨è°ƒç”¨è¿™äº›å‡½æ•°çš„åœ°æ–¹ä¼˜é›…åœ°å¤„ç†å®ƒä»¬ï¼Œå°±åƒæˆ‘ä»¬åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­æ‰€åšçš„é‚£æ ·ã€‚</p>

<h1 id="panic">panic</h1>
<p><code class="highlighter-rouge">panic</code>æ˜¯ç”¨æ¥è¡¨ç¤ºéå¸¸ä¸¥é‡çš„ä¸å¯æ¢å¤çš„é”™è¯¯çš„ã€‚åœ¨Goä¸­ï¼Œ<code class="highlighter-rouge">panic</code>ä¸æ˜¯å¤„ç†ç¨‹åºä¸­é”™è¯¯çš„ç†æƒ³æ–¹æ³•ã€‚å»ºè®®ä½¿ç”¨<code class="highlighter-rouge">error</code>å¯¹è±¡ã€‚å½“å‡ºç°<code class="highlighter-rouge">panic</code>æ—¶ï¼Œç¨‹åºæ‰§è¡Œå°†åœæ­¢ã€‚<code class="highlighter-rouge">panic</code>ä¹‹åæ‰§è¡Œçš„æ˜¯<code class="highlighter-rouge">defer</code>ã€‚</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre></td><td class="rouge-code"><pre> <span class="k">package</span> <span class="n">main</span>

 <span class="k">import</span> <span class="s">"fmt"</span>

 <span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
     <span class="n">f</span><span class="p">()</span>
     <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Returned normally from f."</span><span class="p">)</span>
 <span class="p">}</span>

 <span class="k">func</span> <span class="n">f</span><span class="p">()</span> <span class="p">{</span>
     <span class="k">defer</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
         <span class="k">if</span> <span class="n">r</span> <span class="o">:=</span> <span class="nb">recover</span><span class="p">();</span> <span class="n">r</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
             <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Recovered in f"</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>
         <span class="p">}</span>
     <span class="p">}()</span>
     <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Calling g."</span><span class="p">)</span>
     <span class="n">g</span><span class="p">(</span><span class="m">0</span><span class="p">)</span>
     <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Returned normally from g."</span><span class="p">)</span>
 <span class="p">}</span>

 <span class="k">func</span> <span class="n">g</span><span class="p">(</span><span class="n">i</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
     <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="m">3</span> <span class="p">{</span>
         <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Panicking!"</span><span class="p">)</span>
         <span class="nb">panic</span><span class="p">(</span><span class="n">fmt</span><span class="o">.</span><span class="n">Sprintf</span><span class="p">(</span><span class="s">"%v"</span><span class="p">,</span> <span class="n">i</span><span class="p">))</span>
     <span class="p">}</span>
     <span class="k">defer</span> <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Defer in g"</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
     <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Printing in g"</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
     <span class="n">g</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="m">1</span><span class="p">)</span>
 <span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<h1 id="defer">defer</h1>
<p><code class="highlighter-rouge">defer</code>æ€»æ˜¯åœ¨å‡½æ•°æœ«å°¾æ‰§è¡Œã€‚</p>

<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨<code class="highlighter-rouge">panic()</code>æ—¶ã€‚å¦‚æ‚¨æ‰€æ³¨æ„åˆ°çš„ï¼Œæœ‰ä¸€ä¸ª<code class="highlighter-rouge">defer</code>è¯­å¥ï¼Œå®ƒå°†ä½¿ç¨‹åºåœ¨ç¨‹åºæ‰§è¡Œç»“æŸæ—¶æ‰§è¡Œè¯¥è¡Œã€‚å½“æˆ‘ä»¬éœ€è¦åœ¨å‡½æ•°æœ«å°¾æ‰§è¡ŒæŸäº›æ“ä½œæ—¶ï¼Œä¾‹å¦‚å…³é—­æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code class="highlighter-rouge">defer</code>è¯­å¥ã€‚</p>

<h1 id="å¹¶å‘">å¹¶å‘</h1>
<p>Goè¯­è¨€çš„æ„å»ºè€ƒè™‘åˆ°äº†å¹¶å‘æ€§ã€‚Goè¯­è¨€ä¸­çš„å¹¶å‘æ€§å¯ä»¥é€šè¿‡è½»é‡çº§çº¿ç¨‹<code class="highlighter-rouge">go routine</code>è¯­æ³•æ¥å®ç°ã€‚</p>

<h2 id="go-routine">go routine</h2>
<p><code class="highlighter-rouge">go routine</code>æ˜¯å¯ä»¥ä¸å…¶ä»–å‡½æ•°å¹¶è¡Œæˆ–å¹¶å‘è¿è¡Œçš„å‡½æ•°ã€‚åˆ›å»º<code class="highlighter-rouge">go routine</code>éå¸¸ç®€å•ã€‚åªéœ€åœ¨å‡½æ•°å‰é¢æ·»åŠ ä¸€ä¸ªå…³é”®å­—<code class="highlighter-rouge">go</code>ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿å®ƒå¹¶è¡Œæ‰§è¡Œã€‚<code class="highlighter-rouge">go routine</code>æ˜¯éå¸¸è½»é‡çº§çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ›å»ºæ•°ä»¥åƒè®¡çš„<code class="highlighter-rouge">go routine</code>ã€‚è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

 <span class="k">import</span> <span class="p">(</span>
     <span class="s">"fmt"</span>
     <span class="s">"time"</span>
 <span class="p">)</span>

 <span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
     <span class="k">go</span> <span class="n">c</span><span class="p">()</span>
     <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"I am main"</span><span class="p">)</span>
     <span class="n">time</span><span class="o">.</span><span class="n">Sleep</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">2</span><span class="p">)</span>
 <span class="p">}</span>

 <span class="k">func</span> <span class="n">c</span><span class="p">()</span> <span class="p">{</span>
     <span class="n">time</span><span class="o">.</span><span class="n">Sleep</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">2</span><span class="p">)</span>
     <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"I am concurrent"</span><span class="p">)</span>
 <span class="p">}</span>

 <span class="c">//=&gt; I am main</span>
 <span class="c">//=&gt; I am concurrent</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­å¯ä»¥çœ‹åˆ°ï¼Œå‡½æ•°<code class="highlighter-rouge">c</code>æ˜¯ä¸€ä¸ª<code class="highlighter-rouge">go routine</code>ï¼Œå®ƒä¸ä¸»Goçº¿ç¨‹å¹¶è¡Œæ‰§è¡Œã€‚æœ‰æ—¶æˆ‘ä»¬å¸Œæœ›åœ¨å¤šä¸ªçº¿ç¨‹ä¹‹é—´å…±äº«èµ„æºã€‚Goè¯­è¨€ä¸å–œæ¬¢å°†ä¸€ä¸ªçº¿ç¨‹çš„å˜é‡ä¸å¦ä¸€ä¸ªçº¿ç¨‹å…±äº«ï¼Œå› ä¸ºè¿™ä¼šå¢åŠ æ­»é”å’Œèµ„æºç­‰å¾…çš„æ¦‚ç‡ã€‚åœ¨<code class="highlighter-rouge">go routine</code>ä¹‹é—´å…±äº«èµ„æºè¿˜æœ‰å¦ä¸€ç§æ–¹æ³•:é€šè¿‡ é€šé“(channel)ã€‚</p>

<h2 id="é€šé“channel">é€šé“(channel)</h2>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨é€šé“åœ¨ä¸¤ä¸ª<code class="highlighter-rouge">go routine</code> ä¹‹é—´ä¼ é€’æ•°æ®ã€‚åœ¨åˆ›å»ºé€šé“(channel)æ—¶ï¼Œéœ€è¦æŒ‡å®šé€šé“(channel)æ¥æ”¶çš„æ•°æ®ç±»å‹ã€‚è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç®€å•çš„é€šé“(channel)ä¸å­—ç¬¦ä¸²ç±»å‹å¦‚ä¸‹:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="n">c</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="k">chan</span> <span class="kt">string</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>ä½¿ç”¨è¿™ä¸ªé€šé“(channel)ï¼Œæˆ‘ä»¬å¯ä»¥å‘é€å­—ç¬¦ä¸²ç±»å‹çš„æ•°æ®ã€‚æˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªé€šé“(channel)å‘é€å’Œæ¥æ”¶æ•°æ®:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

 <span class="k">import</span> <span class="s">"fmt"</span>

 <span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
     <span class="n">c</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="k">chan</span> <span class="kt">string</span><span class="p">)</span>
     <span class="k">go</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span> <span class="n">c</span> <span class="o">&lt;-</span> <span class="s">"hello"</span> <span class="p">}()</span>
     <span class="n">msg</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="n">c</span>
     <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
 <span class="p">}</span>

 <span class="c">//=&gt;"hello"</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>æ¥æ”¶æ–¹é€šé“ç­‰å¾…å‘é€æ–¹å°†æ•°æ®å‘é€åˆ°é€šé“ã€‚</p>

<h2 id="å•å‘é€šé“">å•å‘é€šé“</h2>
<p>æœ‰äº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›<code class="highlighter-rouge">go routine</code> é€šè¿‡é€šé“æ¥æ”¶æ•°æ®ï¼Œä½†ä¸å‘é€æ•°æ®ï¼Œåä¹‹äº¦ç„¶ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åˆ›å»ºå•å‘é€šé“ã€‚è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

 <span class="k">import</span> <span class="p">(</span>
     <span class="s">"fmt"</span>
 <span class="p">)</span>

 <span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
     <span class="n">ch</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="k">chan</span> <span class="kt">string</span><span class="p">)</span>
     <span class="k">go</span> <span class="n">sc</span><span class="p">(</span><span class="n">ch</span><span class="p">)</span>
     <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="o">&lt;-</span><span class="n">ch</span><span class="p">)</span>
 <span class="p">}</span>

 <span class="k">func</span> <span class="n">sc</span><span class="p">(</span><span class="n">ch</span> <span class="k">chan</span><span class="o">&lt;-</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
     <span class="n">ch</span> <span class="o">&lt;-</span> <span class="s">"hello"</span>
 <span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<code class="highlighter-rouge">sc</code>æ˜¯ä¸€ä¸ª<code class="highlighter-rouge">go routine</code>ï¼Œå®ƒåªèƒ½å‘é€šé“å‘é€æ¶ˆæ¯ï¼Œä½†ä¸èƒ½æ¥æ”¶æ¶ˆæ¯ã€‚</p>

<h2 id="ä½¿ç”¨selectä¸ºä¸ªgo-routineç»„ç»‡å¤šä¸ªé€šé“">ä½¿ç”¨selectä¸ºä¸ªgo routineç»„ç»‡å¤šä¸ªé€šé“</h2>
<p>ä¸€ä¸ªå‡½æ•°å¯èƒ½æœ‰å¤šä¸ªé€šé“åœ¨ç­‰å¾…ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨selectè¯­å¥ã€‚è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ï¼Œä»¥ä¾¿æ›´æ¸…æ¥š:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

 <span class="k">import</span> <span class="p">(</span>
     <span class="s">"fmt"</span>
     <span class="s">"time"</span>
 <span class="p">)</span>

 <span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
     <span class="n">c1</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="k">chan</span> <span class="kt">string</span><span class="p">)</span>
     <span class="n">c2</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="k">chan</span> <span class="kt">string</span><span class="p">)</span>
     <span class="k">go</span> <span class="n">speed1</span><span class="p">(</span><span class="n">c1</span><span class="p">)</span>
     <span class="k">go</span> <span class="n">speed2</span><span class="p">(</span><span class="n">c2</span><span class="p">)</span>
     <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"The first to arrive is:"</span><span class="p">)</span>
     <span class="k">select</span> <span class="p">{</span>
     <span class="k">case</span> <span class="n">s1</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="n">c1</span><span class="o">:</span>
         <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span>
     <span class="k">case</span> <span class="n">s2</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="n">c2</span><span class="o">:</span>
         <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span>
     <span class="p">}</span>
 <span class="p">}</span>

 <span class="k">func</span> <span class="n">speed1</span><span class="p">(</span><span class="n">ch</span> <span class="k">chan</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
     <span class="n">time</span><span class="o">.</span><span class="n">Sleep</span><span class="p">(</span><span class="m">2</span> <span class="o">*</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span><span class="p">)</span>
     <span class="n">ch</span> <span class="o">&lt;-</span> <span class="s">"speed 1"</span>
 <span class="p">}</span>

 <span class="k">func</span> <span class="n">speed2</span><span class="p">(</span><span class="n">ch</span> <span class="k">chan</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
     <span class="n">time</span><span class="o">.</span><span class="n">Sleep</span><span class="p">(</span><span class="m">1</span> <span class="o">*</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span><span class="p">)</span>
     <span class="n">ch</span> <span class="o">&lt;-</span> <span class="s">"speed 2"</span>
 <span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<code class="highlighter-rouge">main</code>æ­£åœ¨ç­‰å¾…ä¸¤ä¸ªé€šé“ï¼Œ<code class="highlighter-rouge">c1</code>å’Œ<code class="highlighter-rouge">c2</code>ã€‚ä½¿ç”¨<code class="highlighter-rouge">select case</code> è¯­å¥ï¼Œä¸»å‡½æ•°æ‰“å°æ¶ˆæ¯ï¼Œæ¶ˆæ¯é¦–å…ˆä»æ¥æ”¶åˆ°çš„é€šé“å‘é€ã€‚</p>

<h2 id="ç¼“å†²é€šé“">ç¼“å†²é€šé“</h2>
<p>æ‚¨å¯ä»¥åœ¨Goè¯­è¨€ä¸­åˆ›å»ºä¸€ä¸ªç¼“å†²é€šé“ã€‚å¯¹äºç¼“å†²é€šé“ï¼Œå¦‚æœç¼“å†²åŒºå·²æ»¡ï¼Œå‘é€åˆ°é€šé“çš„æ¶ˆæ¯å°†è¢«é˜»å¡ã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸ªä¾‹å­:</p>
<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="n">main</span>

 <span class="k">import</span> <span class="s">"fmt"</span>

 <span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
     <span class="n">ch</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="k">chan</span> <span class="kt">string</span><span class="p">,</span> <span class="m">2</span><span class="p">)</span>
     <span class="n">ch</span> <span class="o">&lt;-</span> <span class="s">"hello"</span>
     <span class="n">ch</span> <span class="o">&lt;-</span> <span class="s">"world"</span>
     <span class="n">ch</span> <span class="o">&lt;-</span> <span class="s">"!"</span> <span class="c">// extra message in buffer</span>
     <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="o">&lt;-</span><span class="n">ch</span><span class="p">)</span>
 <span class="p">}</span>

 <span class="c">// =&gt; fatal error: all goroutines are asleep - deadlock!</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h1 id="æ€»ç»“">æ€»ç»“</h1>
<p>æˆ‘ä»¬å­¦ä¹ äº†Goè¯­è¨€çš„ä¸€äº›ä¸»è¦ç»„æˆéƒ¨åˆ†å’Œç‰¹æ€§ã€‚</p>
<ul>
  <li>å˜é‡,æ•°æ®ç±»å‹</li>
  <li>æ•°ç»„,åˆ‡ç‰‡(Slice)å’Œmap</li>
  <li>å‡½æ•°</li>
  <li>å¾ªç¯è¯­å¥å’Œæ¡ä»¶è¯­å¥</li>
  <li>æŒ‡é’ˆ</li>
  <li>åŒ…</li>
  <li>æ–¹æ³•,ç»“æ„ä½“å’Œæ¥å£</li>
  <li>é”™è¯¯å¤„ç†</li>
  <li>å¹¶å‘
ç›¸ä¿¡æ‚¨å·²ç»å¯¹Goè¯­è¨€æœ‰äº†å¤§è‡´çš„äº†è§£ã€‚</li>
</ul>
:ET